ddtRunSingle <- function(ddtDir, preload, compare, expectedFileName) {    oldwd <- getwd()          setwd(file.path(ddtDir,"in"))    e1 <- new.env(parent = baseenv())     assign("res", preload(), envir = e1)    setwd(oldwd)        cat(serializeJSON(e1$res), file=file.path(ddtDir,"actual",expectedFileName), append = F)        expectedFilePath <- file.path(ddtDir, "expected",expectedFileName)    if(!file.exists(expectedFilePath)) {      warning("No expected file in ", expectedFilePath, ". It will create from actual file located under actual folder")      cat(serializeJSON(e1$res, pretty=T), file=expectedFilePath, append = F)    }           expected <- unserializeJSON(readLines(file(expectedFilePath, "r")) )    compare(expected, e1$res )
}
